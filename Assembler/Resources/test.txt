MOVW RD, 0
MOVT RD, 0
MOVW R4, 0
MOVT R4, 3F20
ADD R2, R4, 08
LDR R3, (R2)
ORR R3, R3, 008
STR R3, (R2)
ADD R3, R4, 1c >>start
MOVW R2, 0000
MOVT R2, 0020
STR R2, (R3)
MOVW R0, 0900
MOVT R0, 003D
STREA RD!, (R0), 4
BL <<delay
ADD R3, R4, 28
MOVW R2, 0000
MOVT R2, 0020
STR R2, (R3)
MOVW R0, 4240
MOVT R0, 000F
STREA RD!, (R0), 4
BL <<delay
B <<start
LDREA RD!, (R0), 4 >>delay
SUBS R0, R0, 01 >>sub
BPL <<sub
BX RE